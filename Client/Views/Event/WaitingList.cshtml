@model IEnumerable<Client.ViewModels.WaitingList>


@{
    ViewData["Title"] = "WaitingList";
    Layout = "_Layout";
}

<head>
    <link rel="stylesheet" href="~/css/indexadmin.css" asp-append-version="true" />
    <style>
        img {
            width: 100px;
        }

        .align-items-center {
            background-color: #101130;
        }

        /* TABLES */
        .table {
            border-collapse: separate;
        }

        .table-hover > tbody > tr:hover > td,
        .table-hover > tbody > tr:hover > th {
            background-color: #eee;
        }

        .table thead > tr > th {
            border-bottom: 1px solid #C2C2C2;
            padding-bottom: 0;
        }

        .table tbody > tr > td {
            font-size: 0.875em;
            background: #f5f5f5;
            border-top: 10px solid #fff;
            vertical-align: middle;
            padding: 12px 8px;
        }

            .table tbody > tr > td:first-child,
            .table thead > tr > th:first-child {
                padding-left: 20px;
            }

        .table thead > tr > th span {
            border-bottom: 2px solid #C2C2C2;
            display: inline-block;
            padding: 0 5px;
            padding-bottom: 5px;
            font-weight: normal;
        }

        .align-items-center {
            align-items: center !important;
            background: #101130;
        }

        .btn-validate:hover {
            background-color: green;
            color: white;
        }

        .btn-delete:hover {
            background-color: red;
            color: white;
        }

        
    </style>
</head>

<table class="table mt-100 text-center justify-content-center" style="width: 70%; margin-left: auto; margin-right: auto;">
    <thead>
        <tr>
            <th>
                Full Name
            </th>
            <th>
                Email 
            </th>
            <th>
                Phone Number
            </th>
            <th>
                Invoice
            </th>
            <th>
                Actions
            </th>
            
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.FullName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PhoneNumber)
                </td>
                <td>
                    @if (item.Invoice != null)
                    {
                        <img class="myImg" src="data:image/jpeg;base64,@Convert.ToBase64String(item.Invoice)" alt="Poster" />
                        <div id="myModal" class="modal">
                            <span class="close">&times;</span>
                            <img class="modal-content" id="img01">
                            <div id="caption"></div>
                        </div>
                    }
                </td>
                <td>
                    @*<button onclick="location.href='@Url.Action("Edit", new { /* id=item.PrimaryKey */ })'" class="btn btn-link"><i class="fas fa-edit"></i> Edit</button>
                    <button onclick="location.href='@Url.Action("Details", new { /* id=item.PrimaryKey */ })'" class="btn btn-link"><i class="fas fa-info-circle"></i> Details</button>
                    <button onclick="location.href='@Url.Action("Delete", new { /* id=item.PrimaryKey */ })'" class="btn btn-link"><i class="fas fa-trash-alt"></i> Delete</button>*@

                   
                        <button onclick="location.href='@Url.Action("Edit", "Payment", new { Guid = item.PaymentGuid })'" class="btn btn-validate">
                            <i class="fas fa-check-circle"></i> Validate
                        </button>
                    

                    
                        <button onclick="location.href='@Url.Action("Delete", "Payment", new { Guid = item.PaymentGuid })'" class="btn btn-delete">
                            <i class="fas fa-trash-alt"></i> Delete
                        </button>
                    

                </td>
            </tr>
        }
    </tbody>
</table>

<div class="d-flex justify-content-center mt-10">
    <a class="btn btn-primary m-2" href="javascript:history.back();">Back</a>
    <a class="btn btn-primary m-2" href="/Event/Create">Add Event</a>
</div>

<script>
    var modal = document.getElementById("myModal");
    var images = document.getElementsByClassName("myImg");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");

    // Loop through all the images
    for (var i = 0; i < images.length; i++) {
        var img = images[i];
        img.onclick = function () {
            modal.style.display = "block";
            modalImg.src = this.src;
            captionText.innerHTML = this.alt;
        }
    }

    var span = document.getElementsByClassName("close")[0];
    span.onclick = function () {
        modal.style.display = "none";
    }

</script>

@* *@







@*<section class="vh-100" style="background-color: #eee;">
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-md-12 col-xl-12">

                <div class="card">
                    <div class="card-header p-3">
                        <h5 class="mb-0"><i class="fas fa-tasks me-2"></i>Waiting List</h5>
                    </div>
                    <div class="card-body d-flex justify-content-center align-items-center" data-mdb-perfect-scrollbar="true" style="position: relative; height: 100%; width:100%; overflow-x:scroll">

                        <table class="table table-striped table-bordered mb-0 " style="width:100px">
                            <thead>
                                <tr>
                                    <th scope="col" class="">Full Name</th>
                                    <th scope="col" class="">Email</th>
                                    <th scope="col" class="">Phone Number</th>
                                    <th scope="col" class="">Invoice</th>
                                    <th scope="col" class="">Actions</th>

                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    <tr class="fw-normal">
                                        <td class="align-middle">
                                            <span style="width:150px">@Html.DisplayFor(modelItem => item.FullName)</span>
                                        </td>

                                        <td class="align-middle">
                                            <span style="width:150px">@Html.DisplayFor(modelItem => item.Email)</span>
                                        </td>

                                        <td class="align-middle">
                                            <span style="width:200px">@Html.DisplayFor(modelItem => item.PhoneNumber)</span>
                                        </td>

                                        <td class="align-middle">
                                            @if (item.Invoice != null)
                                            {
                                                <img class="" src="data:image/jpeg;base64,@Convert.ToBase64String(item.Invoice)" alt="Poster" />
                                            }
                                        </td>

                                        <td class="align-middle" style="text-align:center;">
                                            <div>
                                                <i class="fas fa-check-circle text-primary" title="Validate"> </i> @Html.ActionLink("Validate", "Edit", "Payment", new {Guid = item.PaymentGuid }, new { })
                                            </div>
                                            <div>
                                                <i class="fas fa-trash-alt text-primary" title="Delete"> </i> @Html.ActionLink("Delete", "Delete", "Payment", new {Guid = item.PaymentGuid }, new { })
                                            </div>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>

                    </div>
                    <div class="card-footer text-end p-3">
                        <a class="btn btn-primary" href="javascript:history.back();">Back</a>
                        <a class="btn btn-primary" href="/Event/Create">Add Event</a>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>*@
